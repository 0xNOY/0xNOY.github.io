<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1. カーネルインストーラをインストールする 以下をターミナルにコピペして実行する。
wget https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh sudo install ubuntu-mainline-kernel.sh /usr/local/bin 2. 現在のカーネルバージョンを確認する Ubuntu 20.04のデフォルトは5.4。以下を実行してそれを確認できる。
uname -r 3. インストールしたいカーネルバージョンを決める The Linux Kernel Archivesからカーネルのバージョンを調べられる。
特に理由がなければ、最新のLTSバージョンにすると良い。その場合、以下の画像のようなLTSバージョン一覧表がサイト内にあるのでそれを参考にする。
The Linux Kernel Archivesに記載されているLTSバージョン一覧表
今回は、 6.1.z にする。
次に、以下のコマンドを実行し、 z にハマる数字を決める。コマンドの 6.1. は適当な数字に置き換える。
ubuntu-mainline-kernel.sh -r v6.1. 実行結果は以下のようになる。
Downloading index from kernel.ubuntu.com v6.1.0	v6.1.1	v6.1.2	v6.1.3	v6.1.4	v6.1.5	v6.1.6	v6.1.7	v6.1.8	v6.1.9	v6.1.10	v6.1.11 v6.1.12	v6.1.13	v6.1.14	v6.1.15	v6.1.16	v6.1.17	v6.1.18	v6.1.19	v6.1.20	v6.1.21	v6.1.22	v6.1.23 v6.1.24	v6.1.25	v6.1.26	v6.1.27	v6."><title>Ubuntu 20.04 の Kernel をアップデートする</title><link rel=canonical href=https://0xNOY.github.io/post/update-ubuntu2004-kernel/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="Ubuntu 20.04 の Kernel をアップデートする"><meta property="og:description" content="1. カーネルインストーラをインストールする 以下をターミナルにコピペして実行する。
wget https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh sudo install ubuntu-mainline-kernel.sh /usr/local/bin 2. 現在のカーネルバージョンを確認する Ubuntu 20.04のデフォルトは5.4。以下を実行してそれを確認できる。
uname -r 3. インストールしたいカーネルバージョンを決める The Linux Kernel Archivesからカーネルのバージョンを調べられる。
特に理由がなければ、最新のLTSバージョンにすると良い。その場合、以下の画像のようなLTSバージョン一覧表がサイト内にあるのでそれを参考にする。
The Linux Kernel Archivesに記載されているLTSバージョン一覧表
今回は、 6.1.z にする。
次に、以下のコマンドを実行し、 z にハマる数字を決める。コマンドの 6.1. は適当な数字に置き換える。
ubuntu-mainline-kernel.sh -r v6.1. 実行結果は以下のようになる。
Downloading index from kernel.ubuntu.com v6.1.0	v6.1.1	v6.1.2	v6.1.3	v6.1.4	v6.1.5	v6.1.6	v6.1.7	v6.1.8	v6.1.9	v6.1.10	v6.1.11 v6.1.12	v6.1.13	v6.1.14	v6.1.15	v6.1.16	v6.1.17	v6.1.18	v6.1.19	v6.1.20	v6.1.21	v6.1.22	v6.1.23 v6.1.24	v6.1.25	v6.1.26	v6.1.27	v6."><meta property="og:url" content="https://0xNOY.github.io/post/update-ubuntu2004-kernel/"><meta property="og:site_name" content="0xPages"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Ubuntu"><meta property="article:published_time" content="2023-05-21T11:54:00+09:00"><meta property="article:modified_time" content="2023-05-21T11:54:00+09:00"><meta name=twitter:title content="Ubuntu 20.04 の Kernel をアップデートする"><meta name=twitter:description content="1. カーネルインストーラをインストールする 以下をターミナルにコピペして実行する。
wget https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh sudo install ubuntu-mainline-kernel.sh /usr/local/bin 2. 現在のカーネルバージョンを確認する Ubuntu 20.04のデフォルトは5.4。以下を実行してそれを確認できる。
uname -r 3. インストールしたいカーネルバージョンを決める The Linux Kernel Archivesからカーネルのバージョンを調べられる。
特に理由がなければ、最新のLTSバージョンにすると良い。その場合、以下の画像のようなLTSバージョン一覧表がサイト内にあるのでそれを参考にする。
The Linux Kernel Archivesに記載されているLTSバージョン一覧表
今回は、 6.1.z にする。
次に、以下のコマンドを実行し、 z にハマる数字を決める。コマンドの 6.1. は適当な数字に置き換える。
ubuntu-mainline-kernel.sh -r v6.1. 実行結果は以下のようになる。
Downloading index from kernel.ubuntu.com v6.1.0	v6.1.1	v6.1.2	v6.1.3	v6.1.4	v6.1.5	v6.1.6	v6.1.7	v6.1.8	v6.1.9	v6.1.10	v6.1.11 v6.1.12	v6.1.13	v6.1.14	v6.1.15	v6.1.16	v6.1.17	v6.1.18	v6.1.19	v6.1.20	v6.1.21	v6.1.22	v6.1.23 v6.1.24	v6.1.25	v6.1.26	v6.1.27	v6."><link rel="shortcut icon" href=/images/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=https://github.com/0xNOY.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>🌮</span></figure><div class=site-meta><h1 class=site-name><a href=/>0xPages</a></h1><h2 class=site-description>0xNOY's Blog & Notes</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>ホーム</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>アーカイブ</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>検索</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>ダークモード</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#1-カーネルインストーラをインストールする>1. カーネルインストーラをインストールする</a></li><li><a href=#2-現在のカーネルバージョンを確認する>2. 現在のカーネルバージョンを確認する</a></li><li><a href=#3-インストールしたいカーネルバージョンを決める>3. インストールしたいカーネルバージョンを決める</a></li><li><a href=#4-新しいカーネルをインストールする>4. 新しいカーネルをインストールする</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/post/update-ubuntu2004-kernel/>Ubuntu 20.04 の Kernel をアップデートする</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>May 21, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>読了時間: 1分</time></div></footer></div></header><section class=article-content><h2 id=1-カーネルインストーラをインストールする>1. カーネルインストーラをインストールする</h2><p>以下をターミナルにコピペして実行する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://raw.githubusercontent.com/pimlie/ubuntu-mainline-kernel.sh/master/ubuntu-mainline-kernel.sh
</span></span><span style=display:flex><span>sudo install ubuntu-mainline-kernel.sh /usr/local/bin
</span></span></code></pre></div><h2 id=2-現在のカーネルバージョンを確認する>2. 現在のカーネルバージョンを確認する</h2><p>Ubuntu 20.04のデフォルトは5.4。以下を実行してそれを確認できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uname -r
</span></span></code></pre></div><h2 id=3-インストールしたいカーネルバージョンを決める>3. インストールしたいカーネルバージョンを決める</h2><p><a class=link href=https://www.kernel.org/category/releases.html target=_blank rel=noopener>The Linux Kernel Archives</a>からカーネルのバージョンを調べられる。</p><p>特に理由がなければ、最新のLTSバージョンにすると良い。その場合、以下の画像のようなLTSバージョン一覧表がサイト内にあるのでそれを参考にする。</p><p><img src=/post/update-ubuntu2004-kernel/linux-lts-versions-table.webp width=817 height=314 srcset="/post/update-ubuntu2004-kernel/linux-lts-versions-table_hu55a16db3e80d05ca33f9090512457432_34868_480x0_resize_q75_h2_box_2.webp 480w, /post/update-ubuntu2004-kernel/linux-lts-versions-table_hu55a16db3e80d05ca33f9090512457432_34868_1024x0_resize_q75_h2_box_2.webp 1024w" loading=lazy alt="The Linux Kernel Archivesに記載されているLTSバージョン一覧表" class=gallery-image data-flex-grow=260 data-flex-basis=624px></p><p>The Linux Kernel Archivesに記載されているLTSバージョン一覧表</p><p>今回は、 <code>6.1.z</code> にする。</p><p>次に、以下のコマンドを実行し、 <code>z</code> にハマる数字を決める。コマンドの <code>6.1.</code> は適当な数字に置き換える。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ubuntu-mainline-kernel.sh -r v6.1.
</span></span></code></pre></div><p>実行結果は以下のようになる。</p><pre tabindex=0><code>Downloading index from kernel.ubuntu.com
v6.1.0	v6.1.1	v6.1.2	v6.1.3	v6.1.4	v6.1.5	v6.1.6	v6.1.7	v6.1.8	v6.1.9	v6.1.10	v6.1.11
v6.1.12	v6.1.13	v6.1.14	v6.1.15	v6.1.16	v6.1.17	v6.1.18	v6.1.19	v6.1.20	v6.1.21	v6.1.22	v6.1.23
v6.1.24	v6.1.25	v6.1.26	v6.1.27	v6.1.28	v6.1.29
</code></pre><p>コマンドの実行結果より、 <code>v6.1.29</code> が最新のインストール可能なLTSバージョンであることが分かる。</p><h2 id=4-新しいカーネルをインストールする>4. 新しいカーネルをインストールする</h2><p>以下のコマンドを実行することで指定のバージョンのカーネルをインストールすることができる。コマンドの <code>v6.1.29</code> は適当なバージョンに置き換える。</p><p>また、 <code>-i</code> オプションに値を渡さず実行すれば、最新バージョンが自動で選択される。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ubuntu-mainline-kernel.sh -i v6.1.29
</span></span></code></pre></div><p>インストール終了後に再起動して完了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>reboot
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/ubuntu/>Ubuntu</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/enable-wlan-on-xps15-ubuntu2004/><div class=article-details><h2 class=article-title>Ubuntu 20.04 で XPS-15-9530 の WLAN が認識されないときの対処法</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 0xPages</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>